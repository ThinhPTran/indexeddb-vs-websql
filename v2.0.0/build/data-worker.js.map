{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","app/js/data-worker.js","app/js/Generator.js"],"names":[],"mappings":"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","file":"data-worker.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import Generator from './Generator';\n\nself.addEventListener('message', (e) => {\n    \"use strict\";\n    let records = e.data[0];\n    let seed = e.data[1];\n    let multiple = e.data[2];\n\n    let testData = Generator.create(records, seed, multiple);\n    self.postMessage(testData);\n});\n\n","let alphabet = 'abcdefghijklmnopqrstuvwxyz01234567890'.split('');\n\nfunction generateSSN(rand) {\n    \"use strict\";\n\n    return '' + rand.get(9, 0) + rand.get(9, 0) + rand.get(9, 0) + rand.get(9, 0) +\n        '-' + rand.get(9, 0) + rand.get(9, 0) + rand.get(9, 0) + rand.get(9, 0) +\n        '-' + rand.get(9, 0) + rand.get(9, 0) + rand.get(9, 0) + rand.get(9, 0);\n}\n\nfunction generateString(max, min, rand) {\n    \"use strict\";\n    let str = '', length = max;\n\n    if (typeof min !== 'number') {\n        rand = min;\n    }\n    else {\n        length = rand.get(max, min);\n    }\n\n    for (var i = 0; i < length; i++) {\n        str += alphabet[rand.get(35, 0)];\n    }\n\n    return str;\n}\n\nfunction shuffleArray(data, rand) {\n    let newIndex;\n    for (let index = 0; index < data.length; index++) {\n        newIndex = rand.get(data.length - 1);\n        [data[index], data[newIndex]] = [data[newIndex], data[index]]; // swap items\n    }\n\n    return data;\n}\n\nfunction defineBoundsBy(data, key, numberOfMatches, rand) {\n    \"use strict\";\n\n    data.sort((a, b) => {\n        return a[key] > b[key] ? 1 : a[key] == b[key] ? 0 : -1;\n    });\n\n    let startIndex = rand.get(data.length - numberOfMatches - 1);\n\n    if (key !== 'ssn' && key !== 'email') {\n        for (let i = startIndex; i < startIndex + numberOfMatches; i++) {\n            data[i][key] = `${data[i][key]}`; // make unique\n        }\n    }\n\n    return [data[startIndex], data[startIndex + numberOfMatches - 1]];\n}\n\nclass NumberGenerator {\n    constructor(seed) {\n        this.A = 48271;\n        this.M = 2147483647;\n\n        this.Q = this.M / this.A;\n        this.R = this.M % this.A;\n        this.X = 1.0 / this.M;\n\n        this.seed = seed;\n    }\n\n    get(max = 1, min = 0) {\n        this.seed = this.A * (this.seed % this.Q) - this.R * (this.seed / this.Q);\n        if (this.seed <= 0) {\n            this.seed += this.M;\n        }\n\n        return Math.round((max - min) * this.seed * this.X + min);\n    }\n}\n\nclass Generator {\n\n    constructor() {\n        throw 'Static class!';\n    }\n\n    static create(records, seed, boundMatches) {\n        let output = {};\n        let data = [];\n        let rand = new NumberGenerator(seed);\n\n        generateString(8, rand);\n        let name;\n        // Create some fake records\n        while (records > data.length) {\n            data.push({\n                ssn:   generateSSN(rand), // PK\n                name:  `${generateString(8, 3, rand)} ${generateString(10, 5, rand)}`, // I\n                email: `${generateString(8, 3, rand)}@${generateString(8, rand)}.${generateString(3, rand)}`, // UI\n                age:   rand.get(1000000000) // No I\n            });\n        }\n\n        // Choose 4 different records\n        let indices = [];\n        for(let i = 0; i < 4; i++) {\n            let randVal, length = indices.length;\n            while (indices.length === length) {\n                randVal = rand.get(data.length-1);\n                if (indices.indexOf(randVal) === -1) {\n                    indices.push(randVal);\n                }\n            }\n        }\n\n        output.single = {\n            pk: data[indices[0]],\n            ui: data[indices[1]],\n            i: data[indices[2]],\n            noi: data[indices[3]]\n        };\n\n        output.multi = {\n            numberOfMatches: boundMatches,\n            pk: defineBoundsBy(data, 'ssn', boundMatches, rand),\n            ui: defineBoundsBy(data, 'email', boundMatches, rand),\n            i: defineBoundsBy(data, 'name', boundMatches, rand),\n            noi: defineBoundsBy(data, 'age', boundMatches, rand)\n        };\n        output.records = shuffleArray(data, rand);\n\n        return output;\n    }\n}\n\nexport default Generator\n"]}